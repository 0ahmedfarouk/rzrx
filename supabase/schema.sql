create extension if not exists pgcrypto; create table if not exists users(id text primary key, username text, credits int default 0, created_at timestamp default now()); create table if not exists products(id uuid primary key default gen_random_uuid(), name text not null, price int not null check(price>=0), active boolean default true, created_at timestamp default now()); create table if not exists transactions(id uuid primary key default gen_random_uuid(), user_id text references users(id) on delete cascade, product_id uuid references products(id) on delete set null, amount int not null, created_at timestamp default now());